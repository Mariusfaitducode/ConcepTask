<ion-header [translucent]="true">
  <ion-toolbar>

    <ion-buttons slot="start">
      <ion-button (click)="goBackTodo()" class="back-button">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    
    <ion-title>Connectez vous</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Connectez vous</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="login-page">
    <ion-list>

      <!-- Only on sign up case -->
      <ion-item *ngIf="isSignUpPage">
        <ion-input type="text" 
        label="Pseudo" labelPlacement="floating" aria-label="Pseudo" 
        [(ngModel)]="newUser.pseudo"></ion-input>
      </ion-item>

      <ion-item>
        <ion-input type="text" 
        label="Email" labelPlacement="floating" aria-label="Email" 
        [(ngModel)]="newUser.email"></ion-input>
      </ion-item>
      
      <ion-item>
        <ion-input type="password" 
        label="Mot de passe" labelPlacement="floating" aria-label="Mot de passe" 
        [(ngModel)]="newUser.password"></ion-input>
      </ion-item>
    </ion-list>

    <!-- Only on sign up case -->
    <ion-item *ngIf="isSignUpPage">
      <ion-input type="password" 
      label="Confirmation mot de passe" labelPlacement="floating" aria-label="Confirmation mot de passe"
      [(ngModel)]="passwordConfirmation"></ion-input>
    </ion-item>
  
    <div class="padding-buttons">

      <div class="error-message" *ngIf="errorMessage">
        <ion-text color="danger">
          {{errorMessage}}
        </ion-text>
      </div>



      <!-- <ion-button *ngIf="!isSignUpPage" expand="block" class="connexion-button"
        [disabled]="!validLogInForm()" (click)="logIn()">Connection</ion-button> -->

      <ion-button expand="block" class="connexion-button"
        [disabled]="!validForm()" (click)="connexion()">{{connexionText}}</ion-button>





        <ion-button expand="block" class="connexion-button" color="medium"
       (click)="logInWithGoogle()">{{connexionText}} avec Google</ion-button>

        <ion-button expand="block" class="connexion-button" color="medium"
        (click)="logInWithGitHub()">{{connexionText}} avec Github</ion-button>



      <ion-button *ngIf="!isSignUpPage" expand="block" fill="clear" color="secondary" (click)="switchConnexionInscription()">Créer un compte</ion-button>

      <ion-button *ngIf="isSignUpPage" expand="block" fill="clear" color="secondary" (click)="switchConnexionInscription()">J'ai déjà un compte</ion-button>
      <!-- <ion-button expand="block" fill="clear" color="secondary" (click)="goToHomePage()">Retour à l'accueil</ion-button> -->
    
    </div>
    
  </div>
  
</ion-content>
