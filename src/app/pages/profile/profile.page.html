<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      {{'PROFILE' | translate}}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Votre Profil</ion-title>
    </ion-toolbar>
  </ion-header> -->



  <!-- USER NOT CONNECTED -->
  <div *ngIf="!user" class="padding-connexion">

    <div class="connexion-text" *ngIf="usedLanguage() === 'fr'">
      Créer un compte vous permet de sauvegarder et synchroniser vos todos en toute sécurité sur tous vos appareils.
      <!-- De nouvelles fonctionnalités passionnantes arrivent bientôt : création d'équipes et partage de projets ! -->
    </div>

    <div class="connexion-text" *ngIf="usedLanguage() === 'en'">
      Creating an account allows you to save and synchronize your todos securely on all your devices.
      <!-- De nouvelles fonctionnalités passionnantes arrivent bientôt : création d'équipes et partage de projets ! -->
    </div>

    
    <ion-button expand="block" (click)="goToLogin()">{{'LOGIN' | translate}}</ion-button>
    <ion-button expand="block" fill="clear" (click)="goToSignUp()">{{'NO ACCOUNT' | translate}} {{'SIGN UP' | translate}}</ion-button>
  </div>


  <!-- USER CONNECTED -->
  <div  class="padding-page" *ngIf="user">

    <ion-card class="profile-content" (click)="goToEditProfile()">

      <div class="profile-infos">
        <img [src]="user.avatar" width="70px" height="70px" alt="" class="pseudo-image">

        <div class="user-names">
          <div class="firstname">{{user.pseudo}}</div>
          <div class="bio">{{user.bio}}</div>
        </div>
      </div>

      <div class="edit-profile">
        <!-- <ion-icon size="large" name="chatbubble-outline"></ion-icon> -->
    
        <svg width="32" height="27"  viewBox="0 0 32 27" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g id="Arrow Right">
          <path id="Vector" fill="var(--ion-color-medium)" d="M8.49547 27C8.22406 27 7.94634 26.9095 7.73806 26.7337C7.3215 26.3822 7.3215 25.8071 7.73806 25.4556L21.9961 13.4201L7.94635 1.56566C7.52978 1.21418 7.52978 0.639009 7.94635 0.287535C8.36291 -0.06394 9.04453 -0.06394 9.4611 0.287535L24.2682 12.781C24.6848 13.1325 24.6848 13.7077 24.2682 14.0591L9.25282 26.7337C9.04453 26.9094 8.76688 26.9999 8.49544 26.9999L8.49547 27Z"/>
          </g>
          </svg>
          
      </div>
    </ion-card>


    <!-- Habit tracker -->

    <div class="habit-tracker-container">
      <app-habit-tracker [todosTracker]="user.todosTracker || []"></app-habit-tracker>
    </div>



    

  </div>

  <ion-list>

    <ion-item (click)="goToSettings()">
      <ion-icon name="settings-outline" slot="start"></ion-icon>
      <ion-label>{{'SETTINGS' | translate}}</ion-label>
    </ion-item>

    <ion-item *ngIf="user" (click)="goToPersonnalInformations()">
      <ion-icon name="person-outline" slot="start"></ion-icon>
      <ion-label>{{'PERSONAL INFORMATION' | translate}}</ion-label>
    </ion-item>

    <ion-item (click)="goToFeedback()">
      <ion-icon name="help-circle-outline" slot="start"></ion-icon>
      <ion-label>{{'ABOUT THIS APP' | translate}}</ion-label>
    </ion-item>

    <ion-item *ngIf="user"  (click)="disconnect()">
      <ion-icon name="log-out-outline" slot="start"></ion-icon>
      <ion-label>{{'DISCONNECT' | translate}}</ion-label>
    </ion-item>
  </ion-list>


</ion-content>



<!-- <div *ngIf="importModalConfig.open">
  <app-import-export-modal [importExportModal]="importModalConfig"></app-import-export-modal>
</div> -->